(window.yoastWebpackJsonp=window.yoastWebpackJsonp||[]).push([[4],{397:function(e,s,n){"use strict";function t(e){var s=e.find("[class^=wpseo-new]").first().attr("class"),n="#"+s+"-",t=n.replace("new","existing"),i=e.find("th[id^=col_existing_yoast]").first().text().replace("Existing ",""),a=s.replace("-new-","_save_"),o="wpseo_save_all_"+e.attr("class").split("wpseo_bulk_")[1],u=a.replace("wpseo_save_",""),l={newClass:"."+s,newId:n,existingId:t},r={submit_new:function(e){r.submitNew(e)},submitNew:function(e){var s=l.newId+e,n=l.existingId+e,t="select-one"===jQuery(l.newId+e).prop("type")?jQuery(s).find(":selected").text():jQuery(s).val(),n=jQuery(n).html();t!==n&&(""!==t||window.confirm("Are you sure you want to remove the existing "+i+"?"))?(n={action:a,_ajax_nonce:wpseoBulkEditorNonce,wpseo_post_id:e,new_value:t,existing_value:n},jQuery.post(ajaxurl,n,r.handleResponse)):jQuery(s).val("")},submit_all:function(e){r.submitAll(e)},submitAll:function(e){e.preventDefault();var t={action:o,_ajax_nonce:wpseoBulkEditorNonce,send:!1,items:{},existingItems:{}};jQuery(l.newClass).each(function(){var e=jQuery(this).data("id"),s=jQuery(this).val(),n=jQuery(l.existingId+e).html();""!==s&&(s===n?jQuery(l.newId+e).val(""):(t.send=!0,t.items[e]=s,t.existingItems[e]=n))}),t.send&&jQuery.post(ajaxurl,t,r.handleResponses)},handle_response:function(e,s){r.handleResponse(e,s)},handleResponse:function(e,s){var n;"success"===s&&((n="string"==typeof(n=e)?JSON.parse(n):n)instanceof Array?jQuery.each(n,function(){r.handleResponse(this,s)}):"success"===n.status&&(e=n["new_"+u],jQuery(l.existingId+n.post_id).html(e.replace(/\\(?!\\)/g,"")),jQuery(l.newId+n.post_id).val("")))},handle_responses:function(e,s){r.handleResponses(e,s)},handleResponses:function(e,s){e=jQuery.parseJSON(e);jQuery.each(e,function(){r.handleResponse(this,s)})},set_events:function(){r.setEvents()},setEvents:function(){e.find(".wpseo-save").click(function(e){var s=jQuery(this).data("id");e.preventDefault(),r.submitNew(s,this)}),e.find(".wpseo-save-all").click(r.submitAll),e.find(l.newClass).keydown(function(e){13===e.which&&(e.preventDefault(),e=jQuery(this).data("id"),r.submitNew(e,this))})}};return r}window.bulk_editor=t,window.bulkEditor=t,jQuery(document).ready(function(){jQuery('table[class*="wpseo_bulk"]').each(function(e,s){s=jQuery(s);t(s).setEvents()})})}},[[397,0]]]);